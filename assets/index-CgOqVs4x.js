import{r as n,u as x,j as e}from"./index-Du-mbmiG.js";import{A as g}from"./constants-BzkP2l18.js";const h=()=>{const[l,d]=n.useState(""),[r,c]=n.useState(""),[o,s]=n.useState(null),u=x(),m=async t=>{if(t.preventDefault(),!l||!r){s("Please fill in both fields.");return}try{const a=await fetch(`${g}/users/sign_in`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:r})});if(!a.ok)throw s("Invalid credentials !"),setTimeout(()=>{s("")},3e3),new Error("Sign-in failed");const i=await a.json();localStorage.setItem("auth_token",i.auth_token),localStorage.setItem("user",JSON.stringify(i.user)),console.log("Sign-in successful"),u("/")}catch(a){console.error("Sign-in failed:",a)}};return e.jsxs("div",{children:[e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold text-gray-700",children:"Email:"}),e.jsx("input",{type:"email",name:"email",id:"email",value:l,onChange:t=>{d(t.target.value),s("")},className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded-md focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold text-gray-700",children:"Password:"}),e.jsx("input",{type:"password",name:"password",id:"password",value:r,onChange:t=>{c(t.target.value),s("")},className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded-md focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),o&&e.jsx("p",{className:"text-red-500",children:o}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 mt-4 font-semibold text-white bg-blue-700 rounded-md hover:bg-blue-800 focus:outline-none focus:shadow-outline-gray",children:"Sign In"})]}),e.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/signup",className:"text-blue-500 hover:text-blue-700",children:"Sign Up"})]}),e.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Normal user?"," ",e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700",children:"Home"})]})]})},f="/assets/signin-CKFT_Wqz.avif",j=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("div",{className:"flex flex-col-reverse w-full max-w-xl px-6 py-8 bg-white border-4 border-gray-300 border-dotted rounded-lg shadow-md md:flex-row",children:[e.jsxs("div",{className:"p-4 md:w-full md:border-r ",children:[e.jsx("h1",{className:"mb-8 text-3xl font-bold text-center text-gray-800 ",children:"Sign in"}),e.jsx(h,{})]}),e.jsx("div",{className:"md:w-full",children:e.jsx("img",{src:f,alt:"singin",className:"object-cover w-full h-full rounded-r-lg"})})]})});export{j as default};
