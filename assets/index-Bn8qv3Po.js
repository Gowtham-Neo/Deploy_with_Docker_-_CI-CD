import{r,u as h,j as e}from"./index-Du-mbmiG.js";import{A as f}from"./constants-BzkP2l18.js";import{i as b}from"./signup-DsrggD20.js";const p=()=>{const[a,d]=r.useState(""),[l,c]=r.useState(""),[o,m]=r.useState(""),[i,n]=r.useState(null),x=h(),g=async s=>{if(s.preventDefault(),!a||!l||!o){n("Please fill all the fields.");return}try{const t=await fetch(`${f}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:l,password:o})});if(!t.ok)throw console.log("response is: ",t),n("user Alreaady exists or server error occured!"),setTimeout(()=>{n("")},3e3),new Error("Sign-up failed");console.log("Sign-up successful");const u=await t.json();localStorage.setItem("auth_token",u.auth_token),localStorage.setItem("user",JSON.stringify(u.user)),x("/")}catch(t){console.error("Sign-up failed:",t)}};return e.jsxs("div",{children:[e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold text-gray-700",children:"Your Name:"}),e.jsx("input",{type:"text",name:"userName",id:"userName",value:a,onChange:s=>d(s.target.value),className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded-md focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold text-gray-700",children:"Email:"}),e.jsx("input",{type:"email",name:"userEmail",id:"userEmail",value:l,onChange:s=>c(s.target.value),className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded-md focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-semibold text-gray-700",children:"Password:"}),e.jsx("input",{type:"password",name:"userPassword",id:"userPassword",value:o,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 leading-tight text-gray-700 border rounded-md focus:outline-none focus:border-blue-500 focus:shadow-outline-blue"})]}),i&&e.jsx("p",{className:"text-red-500",children:i}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 mt-4 font-semibold text-white bg-blue-700 rounded-md hover:bg-blue-800 focus:outline-none focus:shadow-outline-gray",children:"Sign up"})]}),e.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/signin",className:"text-blue-500 hover:text-blue-700",children:"Sign In"})]}),e.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Normal user?"," ",e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700",children:"Home"})]})]})},w=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("div",{className:"flex flex-col w-full max-w-xl px-6 py-8 bg-white border-4 border-gray-300 border-dotted rounded-lg shadow-md md:flex-row",children:[e.jsx("div",{className:"md:border-r md:w-full",children:e.jsx("img",{src:b,alt:"signup",className:"object-cover w-full h-full rounded-r-lg"})}),e.jsxs("div",{className:"p-4 md:w-full ",children:[e.jsx("h1",{className:"mb-8 text-3xl font-bold text-center text-gray-800 ",children:"Sign up"}),e.jsx(p,{})]})]})});export{w as default};
